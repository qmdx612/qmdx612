<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>商城</title>
</head>
<body>
<div id="reg-div">
	<form id="reg-form">
		<table style="text-align: right;">
			<tr>
				<td>用户名：</td>
				<td><input name="username" /></td>
			</tr>
			<tr>
				<td>密码：</td>
				<td><input name="password" /></td>
			</tr>
			<tr>
				<td>手机号：</td>
				<td><input name="phone" /></td>
			</tr>
			<tr>
				<td>邮箱：</td>
				<td><input name="email" /></td>
			</tr>
			<tr>
				<td>性别：</td>
				<td>
					<input type="radio" id="man" name="gender" value="1"><label for="man">男</label>
					<input type="radio" id="woman" name="gender" value="0"><label for="woman">女</label>
					<input type="radio" id="secret" name="gender" value="2" checked="checked"><label for="secret">保密</label>
				</td>
			</tr>
			<tr>
				<td colspan="2" style="text-align:center;">
					<input id="reg-button" type="button" value="注册">
				</td>
			</tr>
		</table>
	</form>
</div>
<script type="text/javascript" src="../js/jquery3.6.0.js"></script>
<script type="text/javascript">
	$("#reg-button").click(function(){
		var url = "../user/reg.do";
		var data = $("#reg-form").serialize();
		$.ajax({
			"url":url,
			"data":data,
			"type":"post",
			"dataType":"json",
			"success":function(json){
				if(json.state == 1){
					location.href = "login.html";
				} else if(json.state == 2){
					alert(json.message);
				} else if(json.state == 3){
					alert(json.message);
				} else {
					alert("出现未知错误，重新打开网页再试一次吧...");
				}
			}
		});
	});
</script>
</body>
</html>